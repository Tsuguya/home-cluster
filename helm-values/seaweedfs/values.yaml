global:
  monitoring:
    enabled: true
    additionalLabels:
      release: kube-prometheus-stack
  automountServiceAccountToken: false

master:
  replicas: 3
  defaultReplication: "000"
  data:
    type: "emptyDir"
  logs:
    type: "emptyDir"
  resources:
    requests:
      cpu: 10m
      memory: 64Mi
    limits:
      memory: 256Mi
  tolerations: |
    - key: node-role.kubernetes.io/control-plane
      operator: Exists
      effect: NoSchedule
    - key: memory-constrained
      operator: Exists
      effect: NoSchedule
  podSecurityContext:
    enabled: true
    runAsNonRoot: true
    runAsUser: 1000
    runAsGroup: 1000
    fsGroup: 1000
    seccompProfile:
      type: RuntimeDefault
  containerSecurityContext:
    enabled: true
    readOnlyRootFilesystem: true
    allowPrivilegeEscalation: false
    capabilities:
      drop:
        - ALL
  extraVolumes: |
    - name: tmp
      emptyDir: {}
  extraVolumeMounts: |
    - name: tmp
      mountPath: /tmp

volume:
  replicas: 1
  dataDirs:
    - name: data
      type: "persistentVolumeClaim"
      size: "50Gi"
      storageClass: "qnap-iscsi"
      maxVolumes: 0
  idx: {}
  logs:
    type: "emptyDir"
  resources:
    requests:
      cpu: 10m
      memory: 128Mi
    limits:
      memory: 512Mi
  nodeSelector: |
    kubernetes.io/hostname: wn-02
  tolerations: |
    - key: memory-constrained
      operator: Exists
      effect: NoSchedule
  podSecurityContext:
    enabled: true
    runAsNonRoot: true
    runAsUser: 1000
    runAsGroup: 1000
    fsGroup: 1000
    seccompProfile:
      type: RuntimeDefault
  containerSecurityContext:
    enabled: true
    readOnlyRootFilesystem: true
    allowPrivilegeEscalation: false
    capabilities:
      drop:
        - ALL
  extraVolumes: |
    - name: tmp
      emptyDir: {}
  extraVolumeMounts: |
    - name: tmp
      mountPath: /tmp

filer:
  replicas: 1
  data:
    type: "persistentVolumeClaim"
    size: "5Gi"
    storageClass: "qnap-iscsi"
  logs:
    type: "emptyDir"
  resources:
    requests:
      cpu: 10m
      memory: 256Mi
    limits:
      memory: 768Mi
  nodeSelector: |
    kubernetes.io/hostname: wn-02
  tolerations: |
    - key: memory-constrained
      operator: Exists
      effect: NoSchedule
  podSecurityContext:
    enabled: true
    runAsNonRoot: true
    runAsUser: 1000
    runAsGroup: 1000
    fsGroup: 1000
    seccompProfile:
      type: RuntimeDefault
  containerSecurityContext:
    enabled: true
    readOnlyRootFilesystem: true
    allowPrivilegeEscalation: false
    capabilities:
      drop:
        - ALL
  s3:
    enabled: true
    port: 8333
    enableAuth: true
    existingConfigSecret: seaweedfs-s3-config
    createBuckets:
      - name: loki-storage
      - name: tempo-storage
      - name: argo-artifacts
      - name: nextcloud
      - name: harbor
  extraEnvironmentVars:
    WEED_LEVELDB2_ENABLED: "true"
    WEED_FILER_OPTIONS_RECURSIVE_DELETE: "false"
    WEED_FILER_BUCKETS_FOLDER: "/buckets"
  extraVolumes: |
    - name: tmp
      emptyDir: {}
  extraVolumeMounts: |
    - name: tmp
      mountPath: /tmp

s3:
  enabled: false
